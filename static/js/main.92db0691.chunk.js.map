{"version":3,"sources":["Components/Common/LoadingCircle/LoadingCircle.module.css","Components/Profile/ProfileStatus/ProfileStatus.module.css","Components/Login/LoginPage.module.css","Components/Profile/ProfileInfo/ProfileInfo.module.css","Components/Common/FormControls/FormControls.module.css","reportWebVitals.js","API/Api.js","Redux/profileReducer.js","Redux/dialogsReducer.js","Redux/sideBarReducer.js","Redux/usersReducer.js","Redux/authReducer.js","Redux/appReducer.js","Redux/Redux-Store.js","HOC/WithAuthRedirect.js","Components/Music/Music.js","Components/Dialogs/Dialogs.jsx","Components/Dialogs/DialogsContainer.jsx","Components/NavBar/NavBar.js","Components/NavBar/NavBarContainer.js","Components/Common/Pagination/Pagination.js","Components/Users/User.js","Components/Assets/Images/userDefaultIcon.png","Components/Users/Users.js","Components/Assets/Images/loadingCircle.gif","Components/Common/LoadingCircle/LoadingCircle.js","Redux/Selectors/usersSelectors.js","Redux/Selectors/authSelector.js","Components/Users/UsersContainer.js","Components/Common/FormControls/FormControls.js","Utils/Validators/Validators.js","Components/Profile/ProfileStatus/ProfileStatus.js","Components/Profile/ProfileDataForm/ProfileDataForm.js","Components/Assets/Images/userDefaultIconLarge.png","Components/Profile/ProfileInfo/ProfileAvatar.js","Components/Profile/ProfileInfo/ProfilePersonalInfo.js","Components/Profile/Contacts/Contact.js","Components/Profile/Contacts/Contacts.js","Components/Profile/ProfileInfo/ProfileInfo.js","Components/Profile/ProfilePosts/Post/Post.js","Components/Profile/ProfilePosts/ProfilePosts.js","Components/Profile/Profile.js","Redux/Selectors/profileSelector.js","Components/Profile/ProfileContainer.js","Components/Header/SearchBar.js","Components/Assets/Images/Logo.png","Components/Header/Header.js","Components/Header/HeaderComponent.js","Components/Login/LoginPage.js","Redux/Selectors/appSelector.js","Components/Assets/Images/inProgress.gif","Components/Common/InProgress/InProgress.js","Components/Common/WelcomePage/WelcomePage.js","Components/Common/WelcomePage/Credits.js","Components/Common/WelcomePage/UsedTechnologies.js","App.js","index.js","Components/Profile/ProfilePosts/ProfilePosts.module.css","Components/Header/Header.module.css","Components/Common/WelcomePage/WelcomePage.module.css","Components/Users/User.module.css","App.module.css","Components/Common/WelcomePage/UsedTechnologies.module.css","Components/Users/Users.module.css","Components/Profile/Contacts/Contacts.module.css","Components/NavBar/NavBar.module.css","Components/Common/Pagination/Pagination.module.css","Components/Profile/ProfileDataForm/ProfileDataForm.module.css","Components/Profile/ProfilePosts/Post/Post.module.css","Components/Common/InProgress/InProgress.module.css","Components/Common/WelcomePage/Credits.module.css"],"names":["module","exports","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","instance","axios","baseURL","withCredentials","headers","usersApi","currentPage","usersOnPage","get","response","data","name","followApi","id","post","delete","authApi","email","password","rememberMe","captcha","profileApi","catch","status","put","photoFile","formData","FormData","append","profile","securityApi","ADD_POST","SET_USER_PROFILE","SET_USER_STATUS","SET_NEW_AVATAR_SUCCESS","SET_ISFOLLOWED","initialState","posts","isFollowed","setUserStatus","type","setIsFollowed","getProfileById","dispatch","a","stopSubmit","_error","Promise","reject","profileReducer","state","action","newPostText","photos","SEND_MESSAGE","UPDATE_NEW_MESSAGE_BODY","senders","messages","message","newMessageBody","dialogsReducer","newBody","menuItems","item","needTooltip","sideBarReducer","FOLLOW","UNFOLLOW","SET_USERS","SET_CURRENT_PAGE","SET_USERS_TOTAL","LOADING_IN_PROGRESS","FOLLOWING_IN_PROGRESS","SET_SEARCHING_USER_NAME","users","totalUsers","isLoading","goingToFollow","searchingUserName","follow","unfollow","setUsers","setUsersTotal","loadingInProgress","followingInProgress","setSearchingUserName","usersReducer","map","u","followed","filter","requestUsers","lookingForAFriends","searchingName","items","totalCount","followUser","resultCode","unfollowUser","SET_USER_DATA","GET_CAPTCHA_SUCCESS","currentAuthorizedUserId","login","isSomeoneAuthorized","captchaImageUrl","setUserData","payload","setAuthorizedUserData","getCaptchaImageUrl","url","authReducer","SET_INITIALIZED","isInitialized","appReducer","reducers","combineReducers","profilePage","dialogsPage","sideBar","usersPage","auth","form","formReducer","app","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunkMiddleware","mapStateToPropsForRedirect","withAuthRedirect","Component","RedirectComponent","this","props","to","React","connect","Dialogs","sendMessage","sendMessageActionCreator","updateNewMessageBody","updateNewMessageBodyActionCreator","NavBar","m","className","cn","styles","navItem","navItemWithTooltip","data-tooltip","navBar","Pagination","pagesCount","Math","ceil","totalItemsCount","pages","i","push","useState","portionSize","portionNumber","setPortionNumber","portionCount","leftPortionPageNumber","rightPortionNumber","pagination","onClick","p","selectedPage","pageNumber","onPageChanged","setCurrentPage","User","userContainer","userAvatar","userAvatarPicture","src","small","alt","userName","userStatus","statusMessage","userFollowUnfollowButton","disabled","some","Users","user","LoadingCircle","loadingCircleContainer","loadingCircle","getUsers","getTotalUsers","getCurrentPage","getUsersOnPage","getIsLoading","getGoingToFollow","getSearchingUserName","getCurrentAuthorizedUserId","getIsSomeoneAuthorized","UsersContainer","areWeLookingForAFriends","match","searchingResultData","withRouter","Textarea","input","meta","hasError","touched","error","formControls","Input","createField","placeholder","validators","component","text","Field","validate","requiredField","value","maxLengthCustom","maxLength","undefined","length","EditStatusFormReduxForm","reduxForm","Form","onSubmit","handleSubmit","ProfileStatus","setStatus","editMode","setEditMode","useEffect","statusForm","isOwner","title","updateStatus","editStatus","initialValues","ProfileDataFormReduxForm","saveButton","formCommonError","Object","keys","contacts","key","contactLabel","ProfileAvatar","large","userDefaultIconLarge","onChange","onAvatarSelected","hidden","ProfilePersonalInfo","profileAboutMe","labelOfItem","aboutMe","profileLookingForAJob","lookingForAJob","profileLookingForAJobDescription","lookingForAJobDescription","Contact","contactTitle","contactValue","Contacts","elem","contactsLabel","ProfileInfo","profileMainData","profileAvatar","e","target","files","setNewAvatar","profileFullName","fullName","profileStatus","profileStatusSpan","profilePersonalInfo","userId","saveProfile","profileEditInfoButton","Post","authorsAvatar","avatar","postContent","NewPostReduxForm","textarea","addButtonArea","addButton","ProfilePosts","postsItems","label","newPostForm","postsForm","values","addNewPostAndReset","newPost","Profile","getProfile","getStatus","getIsFollowedFromState","getPosts","ProfileContainer","params","history","getUserStatus","getIsFollowed","refreshProfile","prevProps","prevState","snapshot","toString","Number","file","getState","addPostActionCreator","reset","SearchBarForm","header","logo","Logo","searchBarForm","isNaN","searchBar","location","pathname","resetSearchingForm","currentUserInfo","nicknameAndButton","currentUserLogin","logoutButton","logoutRequest","loginFormRef","HeaderComponent","LoginReduxForm","loginRequest","errorMessage","stylesLog","getIsInitialized","InProgress","h1","gif","workingHard","WelcomePage","welcomePage","greetings","mainContent","link","credits","conclusion","Credits","main","links","href","UsedTechnologies","usedTechnologies","technologies","concepts","App","initializeApp","appWrapper","NavBarContainer","content","exact","path","render","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.92db0691.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"loadingCircleContainer\":\"LoadingCircle_loadingCircleContainer__36rCf\",\"loadingCircle\":\"LoadingCircle_loadingCircle__10v5C\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"statusForm\":\"ProfileStatus_statusForm__3iRBV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"login\":\"LoginPage_login__gh75Y\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"profileMainData\":\"ProfileInfo_profileMainData__3K952\",\"profileAvatar\":\"ProfileInfo_profileAvatar__1NiEy\",\"profileFullName\":\"ProfileInfo_profileFullName__2YMq-\",\"profileStatus\":\"ProfileInfo_profileStatus__3o4Rk\",\"profilePersonalInfo\":\"ProfileInfo_profilePersonalInfo__1bVV3\",\"profileAboutMe\":\"ProfileInfo_profileAboutMe__34Wn_\",\"profileLookingForAJob\":\"ProfileInfo_profileLookingForAJob__1PfrZ\",\"profileLookingForAJobDescription\":\"ProfileInfo_profileLookingForAJobDescription__35uF-\",\"labelOfItem\":\"ProfileInfo_labelOfItem__1Stas\",\"contacts\":\"ProfileInfo_contacts__2zaFh\",\"profileEditInfoButton\":\"ProfileInfo_profileEditInfoButton__1Pphl\",\"userFollowUnfollowButton\":\"ProfileInfo_userFollowUnfollowButton__hyukr\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControls\":\"FormControls_formControls__3tuEp\",\"error\":\"FormControls_error__pg6uV\",\"formCommonError\":\"FormControls_formCommonError__6hQoA\"};","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import * as axios from \"axios\";\r\n\r\nconst instance = axios.create({\r\n    //базовый URL всегда один\r\n    baseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n    //для кросс-доменных запросов\r\n    withCredentials: true,\r\n    //Уникальный API ключ\r\n    headers: {'API-KEY': 'c0b4b369-fd7c-4f6b-abb0-17b416791232'}\r\n});\r\n//каждый API отвечает за свой раздел redux-а\r\n//Используются запросы get,put,post,delete согласно документации API\r\nexport const usersApi = {\r\n    getUsers(currentPage, usersOnPage) {\r\n        return instance.get(`users?page=${currentPage}&count=${usersOnPage}`)\r\n            .then(response => response.data)\r\n    },\r\n    getListOfFollowingUsers(currentPage, usersOnPage) {\r\n        return instance.get(`users?page=${currentPage}&count=${usersOnPage}&friend=${true}`)\r\n            .then(response => response.data)\r\n    },\r\n    findUserByName(currentPage, usersOnPage, name) {\r\n        return instance.get(`users?page=${currentPage}&count=${usersOnPage}&term=${name}`)\r\n            .then(response => response.data)\r\n    }\r\n}\r\n\r\nexport const followApi = {\r\n    followUser(id) {\r\n        return instance.post(`follow/${id}`).then(response => response.data)\r\n    },\r\n    unfollowUser(id) {\r\n        return instance.delete(`follow/${id}`).then(response => response.data)\r\n    },\r\n    getIsFollowed(id) {\r\n        return instance.get(`follow/${id}`).then(response => response.data)\r\n    }\r\n}\r\n\r\nexport const authApi = {\r\n    authMe() {\r\n        return instance.get('auth/me').then(response => response.data)\r\n    },\r\n    loginRequest(email, password, rememberMe = false, captcha) {\r\n        return instance.post('auth/login', {email, password, rememberMe, captcha}).then(response => response.data)\r\n    },\r\n    logoutRequest() {\r\n        return instance.delete('auth/login').then(response => response.data)\r\n    }\r\n}\r\n\r\nexport const profileApi = {\r\n    //сервер возвращает неопознанную ошибку если пользвоаетля не существует. Поэтому возвращаем заготовленный текст\r\n    getProfile(id) {\r\n        return instance.get('profile/' + id).catch(() => {\r\n            return \"User with this ID does not exists\"\r\n        })\r\n    },\r\n    getStatus(id) {\r\n        return instance.get('profile/status/' + id)\r\n    },\r\n    updateStatus(status) {\r\n        return instance.put('profile/status', {status: status})\r\n    },\r\n    setNewAvatar(photoFile) {\r\n        //здесь получаем фотографию из inputa\r\n        let formData = new FormData()\r\n        formData.append(\"image\", photoFile)\r\n        //отправляем фото с заголовком для сервера\r\n        return instance.put('profile/photo', formData, {headers: {'Content-Type': 'multipart/form-data'}})\r\n    },\r\n    saveProfile(profile) {\r\n        return instance.put('profile', profile)\r\n    }\r\n}\r\nexport const securityApi = {\r\n    getCaptchaImage() {\r\n        return instance.get('security/get-captcha-url')\r\n    }\r\n}\r\n\r\n\r\n\r\n","import {followApi, profileApi} from \"../API/Api\";\r\nimport {reset, stopSubmit} from \"redux-form\";\r\n//константы action-ов.\r\nconst ADD_POST = 'profile/ADD-POST';\r\nconst SET_USER_PROFILE = 'profile/SET-USER-PROFILE';\r\nconst SET_USER_STATUS = 'profile/SET-USER-STATUS';\r\nconst SET_NEW_AVATAR_SUCCESS = 'profile/SET-NEW-AVATAR-SUCCESS';\r\nconst SET_ISFOLLOWED = 'profile/SET-ISFOLLOWED';\r\n//изначальные значения части state\r\nlet initialState = {\r\n    //посты. Пока только локальо\r\n    posts:\r\n        [],\r\n    //профайл. приходит как объект\r\n    profile: null,\r\n    //статус\r\n    status: \"\",\r\n    //фоловим ли юзера\r\n    isFollowed: null\r\n}\r\n//поскольку reducer реализует концепцию чистых функций, то он внутри себя ничего не менят, а создает копию всего state\r\n//и отдельных переменных, массивов, объектов и прочего через spread-оператор [...]\r\nconst profileReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case ADD_POST: {\r\n            //добавление поста. приходит текст поста\r\n            let post = {\r\n                post: action.newPostText,\r\n                };\r\n            return {\r\n                ...state,\r\n                newPostText: \"\",\r\n                posts: [...state.posts, post]\r\n            };\r\n        }\r\n        case SET_USER_PROFILE: {\r\n            return ({...state, profile: action.profile})\r\n        }\r\n        case SET_USER_STATUS: {\r\n            return ({...state, status: action.status})\r\n        }\r\n        case SET_NEW_AVATAR_SUCCESS: {\r\n            return {...state, profile: {...state.profile, photos: action.photos}}\r\n        }\r\n        case SET_ISFOLLOWED: {\r\n            return ({...state, isFollowed: action.isFollowed})\r\n        }\r\n        default:\r\n            return state;\r\n\r\n    }\r\n}\r\n//Action Creators\r\nexport const addPostActionCreator = (newPostText) => ({type: ADD_POST, newPostText: newPostText})\r\nexport const setUserProfile = (profile) => ({type: SET_USER_PROFILE, profile});\r\nexport const setUserStatus = (status) => ({type: SET_USER_STATUS, status});\r\nexport const setIsFollowed = (isFollowed) => ({type: SET_ISFOLLOWED, isFollowed})\r\nexport const setNewAvatarSuccess = (photos) => ({type: SET_NEW_AVATAR_SUCCESS, photos})\r\n\r\n//Thunk Creators.Через колбэк принимают доп. данные и диспатч\r\n\r\nexport const getProfileById = (id) => async (dispatch) => {\r\n    let response = await profileApi.getProfile(id)\r\n   //если ошибки поиска нет, то устанавливаем данные юзера\r\n    if (response !== \"User with this ID does not exists\") {\r\n        dispatch(setUserProfile(response.data))\r\n    } else { //при поиске конкретного ID которого нет, приходит ошибка от серврера. показываем ее\r\n        dispatch(stopSubmit('searchBar', {_error: response}))\r\n        return Promise.reject(response)\r\n    }\r\n}\r\nexport const getUserStatus = (id) => async (dispatch) => {\r\n    let response = await profileApi.getStatus(id)\r\n    dispatch(setUserStatus(response.data))\r\n}\r\nexport const getIsFollowed = (id) => async (dispatch) => {\r\n    let response = await followApi.getIsFollowed(Number(id))\r\n    dispatch(setIsFollowed(response))\r\n}\r\n\r\nexport const updateStatus = (status) => async (dispatch) => {\r\n    let response = await profileApi.updateStatus(status)\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(setUserStatus(status))\r\n    }\r\n}\r\nexport const setNewAvatar = (file) => async (dispatch) => {\r\n    let response = await profileApi.setNewAvatar(file)\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(setNewAvatarSuccess(response.data.data.photos))\r\n    }\r\n}\r\nexport const saveProfile = (profile) => async (dispatch, getState) => {\r\n    let response = await profileApi.saveProfile(profile)\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(getProfileById(getState().auth.currentAuthorizedUserId))\r\n    } else {\r\n        //если сервре не принял данные, то он вернет ошибку. Ее и выводим\r\n        dispatch(stopSubmit('edit-profile', {_error: response.data.messages[0]}))\r\n        return Promise.reject(response.data.messages[0])\r\n    }\r\n}\r\n\r\nexport const addNewPostAndReset = (newPostText) => (dispatch) => {\r\n    dispatch(addPostActionCreator(newPostText))\r\n    dispatch(reset('newPost'))\r\n}\r\nexport default profileReducer;\r\n","//Редьюсер диалогов тестовый, без взаимодейсвтия с сервером.\r\n//константы action-ов.\r\nconst SEND_MESSAGE = 'SEND-MESSAGE';\r\nconst UPDATE_NEW_MESSAGE_BODY = 'UPDATE-NEW-MESSAGE-BODY'\r\n//изначальные значения части state\r\nlet initialState = {\r\n    senders:\r\n        [\r\n            {id: 1, name: 'Steve Rogers'},\r\n            {id: 2, name: 'Thor Odinson'},\r\n            {id: 3, name: 'Bruce Banner'}\r\n\r\n        ],\r\n    messages:\r\n        [\r\n            {id: 1, message: 'Hey'},\r\n            {id: 2, message: 'Aloha'},\r\n            {id: 3, message: \"React\"}\r\n        ],\r\n    newMessageBody: ''\r\n};\r\n//поскольку reducer реализует концепцию чистых функций, то он внутри себя ничего не менят, а создает копию всего state\r\n//и отдельных переменных, массивов, объектов и прочего через spread-оператор [...]\r\nconst dialogsReducer = (state = initialState, action) => {\r\n\r\n    switch (action.type) {\r\n        case SEND_MESSAGE: {\r\n            let message = {id: 4, message: action.message}\r\n            return ({...state, messages: [...state.messages, message]})\r\n        }\r\n\r\n        case UPDATE_NEW_MESSAGE_BODY: {\r\n            return {\r\n                ...state,\r\n                newMessageBody: action.newBody\r\n            };\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n//Action creators\r\nexport const sendMessageActionCreator = (message) => ({type: SEND_MESSAGE, message: message})\r\nexport const updateNewMessageBodyActionCreator = (newBody) => ({type: UPDATE_NEW_MESSAGE_BODY, newBody: newBody});\r\nexport default dialogsReducer;","//SideBar реализован через reducer для тренировки создания редьюсеров.\r\n//Вероятно лучше реализователь его через Хук useState в компоненте или локальный state классового компонента\r\n\r\n//изначальные значения части state\r\n\r\nlet initialState = {\r\n    menuItems: [\r\n        //у каждого пункта есть значение, нужна ли подсказка. Используется в компоненте SideBar для вывода всплывашки\r\n        {id: 1, item: \"Profile\", needTooltip:false},\r\n        {id: 2, item: \"Following\", needTooltip:false},\r\n        {id: 3, item: \"Users\", needTooltip:false},\r\n        {id: 4, item: \"Dialogs\", needTooltip:true},\r\n        {id: 5, item: \"Music\", needTooltip:true},\r\n\r\n\r\n    ]\r\n}\r\n\r\nconst sideBarReducer = (state = initialState) => {\r\n    return state;\r\n}\r\nexport default sideBarReducer;","import {followApi, usersApi} from \"../API/Api\";\r\nimport {reset} from \"redux-form\";\r\nimport {setIsFollowed} from \"./profileReducer\";\r\n\r\n//константы action-ов.\r\nconst FOLLOW = 'users/FOLLOW';\r\nconst UNFOLLOW = 'users/UNFOLLOW';\r\nconst SET_USERS = 'users/SET-USERS';\r\nconst SET_CURRENT_PAGE = 'users/SET-CURRENT-PAGE';\r\nconst SET_USERS_TOTAL = 'users/SET-USERS-TOTAL';\r\nconst LOADING_IN_PROGRESS = 'users/LOADING-IN-PROGRESS';\r\nconst FOLLOWING_IN_PROGRESS = 'users/FOLLOWING-IN-PROGRESS';\r\nconst SET_SEARCHING_USER_NAME = 'users/SET-SEARCHING-USER-NAME';\r\n\r\n//изначальные значения части state\r\nlet initialState = {\r\n    //массив всех юзеров, приходящих от серврера\r\n    users: [],\r\n    //общее число выданных юзеров\r\n    totalUsers: 0,\r\n    //текущая страница показываемых юзеров\r\n    currentPage: 1,\r\n    //хардкод количетсва юзеров на одной страницы\r\n    usersOnPage: 5,\r\n    //тригер загрузки\r\n    isLoading: false,\r\n    //массив, куда временно добавляются id пользователей, с которыми проводим операцию follow/unfillow\r\n    goingToFollow: [],\r\n    //сюда записывается поисковый запрос\r\n    searchingUserName: null\r\n}\r\n//поскольку reducer реализует концепцию чистых функций, то он внутри себя ничего не менят, а создает копию всего state\r\n//и отдельных переменных, массивов, объектов и прочего через spread-оператор [...]\r\nconst usersReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case FOLLOW: {\r\n            return (\r\n                {\r\n                    ...state,\r\n                    users: state.users.map((u) => {\r\n                        if (u.id === action.id) {\r\n                            return {...u, followed: true}\r\n                        }\r\n                        return u;\r\n                    })\r\n                }\r\n            )\r\n        }\r\n        case UNFOLLOW: {\r\n            return (\r\n                {\r\n                    ...state,\r\n                    users: state.users.map((u) => {\r\n                        if (u.id === action.id) {\r\n                            return {...u, followed: false}\r\n                        }\r\n                        return u;\r\n                    })\r\n                }\r\n            )\r\n        }\r\n        case SET_USERS: {\r\n            return {...state, users: action.users}\r\n        }\r\n        case SET_CURRENT_PAGE: {\r\n            return {...state, currentPage: action.currentPage}\r\n        }\r\n        case SET_USERS_TOTAL: {\r\n            return {...state, totalUsers: action.totalUsers}\r\n        }\r\n        case LOADING_IN_PROGRESS: {\r\n            return {...state, isLoading: action.isLoading}\r\n        }\r\n        case FOLLOWING_IN_PROGRESS: {\r\n            return {\r\n                ...state,\r\n                goingToFollow: action.isLoading\r\n                    ? [...state.goingToFollow, action.id]\r\n                    : [state.goingToFollow.filter(id => id !== action.id)]\r\n            }\r\n        }\r\n        case SET_SEARCHING_USER_NAME: {\r\n            return {...state, searchingUserName: action.searchingUserName}\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n//Action creators\r\nexport const follow = (id) => ({type: FOLLOW, id});\r\nexport const unfollow = (id) => ({type: UNFOLLOW, id});\r\nexport const setUsers = (users) => ({type: SET_USERS, users});\r\nexport const setCurrentPage = (currentPage) => ({type: SET_CURRENT_PAGE, currentPage});\r\nexport const setUsersTotal = (totalUsers) => ({type: SET_USERS_TOTAL, totalUsers});\r\nexport const loadingInProgress = (isLoading) => ({type: LOADING_IN_PROGRESS, isLoading});\r\nexport const followingInProgress = (isLoading, id) => ({type: FOLLOWING_IN_PROGRESS, isLoading, id});\r\nexport const setSearchingUserName = (searchingUserName) => ({type: SET_SEARCHING_USER_NAME, searchingUserName});\r\nexport default usersReducer;\r\n\r\n//thunk creators.Через колбэк принимают доп. данные и диспатч\r\n\r\nexport const requestUsers = (currentPage = 1, usersOnPage = 5, lookingForAFriends = false, searchingName = null) => async (dispatch) => {\r\n    dispatch(loadingInProgress(true));\r\n\r\n    let response\r\n    if (searchingName === null) {\r\n        lookingForAFriends\r\n            ? response = await usersApi.getListOfFollowingUsers(currentPage, usersOnPage)\r\n            : response = await usersApi.getUsers(currentPage, usersOnPage)\r\n    } else {\r\n        dispatch(setSearchingUserName(searchingName))\r\n        response = await usersApi.findUserByName(currentPage, usersOnPage, searchingName)\r\n    }\r\n    dispatch(loadingInProgress(false));\r\n    dispatch(setUsers(response.items));\r\n    dispatch(setUsersTotal(response.totalCount));\r\n}\r\nexport const followUser = (id) => async (dispatch) => {\r\n    dispatch(followingInProgress(true, id))\r\n    let response = await followApi.followUser(id)\r\n    if (response.resultCode === 0) {\r\n        dispatch(follow(id))\r\n        dispatch (setIsFollowed(true))\r\n    }\r\n    dispatch(followingInProgress(false, id))\r\n}\r\nexport const unfollowUser = (id) => async (dispatch) => {\r\n    dispatch(followingInProgress(true, id))\r\n    let response = await followApi.unfollowUser(id)\r\n    if (response.resultCode === 0) {\r\n        dispatch(unfollow(id))\r\n        dispatch (setIsFollowed(false))\r\n    }\r\n    dispatch(followingInProgress(false, id))\r\n}\r\nexport const resetSearchingForm = () => (dispatch) => {\r\n    dispatch (reset ('searchBar'))\r\n}\r\n\r\n","import {authApi, securityApi} from \"../API/Api\";\r\nimport {stopSubmit} from \"redux-form\";\r\n//константы action-ов.\r\nconst SET_USER_DATA = 'auth/SET-USER-DATA';\r\nconst GET_CAPTCHA_SUCCESS = 'auth/GET-CAPTCHA-SUCCESS'\r\n\r\n//изначальные значения части state\r\nlet initialState = {\r\n    //ID текущего пользователя\r\n    currentAuthorizedUserId: null,\r\n    //Его адрес\r\n    email: null,\r\n    //Логин\r\n    login: null,\r\n    //Кто-то авторизован\r\n    isSomeoneAuthorized: false,\r\n    //URL капчи\r\n    captchaImageUrl: null\r\n}\r\n//поскольку reducer реализует концепцию чистых функций, то он внутри себя ничего не менят, а создает копию всего state\r\n//и отдельных переменных, массивов, объектов и прочего через spread-оператор [...]\r\nconst authReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        //action-ы установки данных авторизованного пользователя и капчи.\r\n        case SET_USER_DATA:\r\n        case GET_CAPTCHA_SUCCESS: {\r\n            return {...state, ...action.payload}\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n//Action creators\r\nexport const setUserData = (currentAuthorizedUserId, email, login, isSomeoneAuthorized) => ({\r\n    type: SET_USER_DATA,\r\n    payload: {currentAuthorizedUserId: currentAuthorizedUserId, email, login, isSomeoneAuthorized: isSomeoneAuthorized}\r\n})\r\n\r\nexport const getCaptchaImageSuccess = (captchaImageUrl) => ({\r\n    type: GET_CAPTCHA_SUCCESS,\r\n    payload: {captchaImageUrl}\r\n})\r\n//Thunk creators. Через колбэк принимают доп. данные и диспатч\r\n//асинхронная функция для обращения к серверу\r\nexport const setAuthorizedUserData = () => async (dispatch) => {\r\n    let response = await authApi.authMe()\r\n    if (response.resultCode === 0) {\r\n        let {id, email, login} = response.data;\r\n        dispatch(setUserData(id, email, login, true))\r\n    }\r\n}\r\n//запрос на авторизацию\r\nexport const loginRequest = (email, password, rememberMe, captcha) => {\r\n    return (dispatch) => {\r\n        authApi.loginRequest(email, password, rememberMe, captcha).then(response => {\r\n            if (response.resultCode === 0) {\r\n                dispatch(setAuthorizedUserData())\r\n            } else {//код отвтета от сервера 10 говорит о необходимости ввести капчу\r\n                if (response.resultCode === 10) {\r\n                    dispatch(getCaptchaImageUrl())\r\n                }//если есть какая-то ошибка, то выводим ее\r\n                let errorMessage = response.messages.length > 0 ? response.messages[0] : 'Unknown error'\r\n                dispatch(stopSubmit('login', {_error: errorMessage}))\r\n            }\r\n        })\r\n    }\r\n}\r\n//запрос капчи\r\nexport const getCaptchaImageUrl = () => async (dispatch) => {\r\n    const response = await securityApi.getCaptchaImage()\r\n    dispatch(getCaptchaImageSuccess(response.data.url))\r\n}\r\n//запрос на логаут\r\nexport const logoutRequest = () => {\r\n    return (dispatch) => {\r\n        authApi.logoutRequest().then(response => {\r\n            if (response.resultCode === 0) {\r\n                dispatch(setUserData(null, null, null, false))\r\n            }\r\n        })\r\n    }\r\n}\r\n\r\nexport default authReducer;","import {setAuthorizedUserData} from \"./authReducer\";\r\n//константа action-ов.\r\nconst SET_INITIALIZED = 'app/SET-INITIALIZED';\r\n//изначальные значения части state\r\nlet initialState = {\r\n    //обзая переменная для индикации загрузилось ли приложение или нет. Для вывода загрузочного кружка,\r\n    // а не просто белого экрана\r\n    isInitialized: false\r\n}\r\n//поскольку reducer реализует концепцию чистых функций, то он внутри себя ничего не менят, а создает копию всего state\r\n//и отдельных переменных, массивов, объектов и прочего через spread-оператор [...]\r\nconst appReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SET_INITIALIZED: {\r\n            //приложение проинициализировалось - меняем на true\r\n            return {...state, isInitialized: true}\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n//Action creators\r\nexport const setInitialized = () => ({type: SET_INITIALIZED});\r\n//Thunk creators\r\nexport const initializeApp = () => (dispatch) => {\r\n    dispatch(setAuthorizedUserData()).then(() => {\r\n        dispatch(setInitialized())\r\n    })\r\n}\r\n\r\nexport default appReducer;","import {applyMiddleware, combineReducers, compose, createStore} from \"redux\";\r\nimport profileReducer from \"./profileReducer\";\r\nimport dialogsReducer from \"./dialogsReducer\";\r\nimport sideBarReducer from \"./sideBarReducer\";\r\nimport usersReducer from \"./usersReducer\";\r\nimport authReducer from './authReducer';\r\nimport thunkMiddleware from 'redux-thunk';\r\nimport { reducer as formReducer } from 'redux-form';\r\nimport appReducer from \"./appReducer\";\r\n//Объединяем все редьюсеры, в т.ч. redux form, т.к. он имеет свой state, dispatch и согласуется с flux круговоротом\r\nlet reducers = combineReducers({\r\n    profilePage : profileReducer,\r\n    dialogsPage : dialogsReducer,\r\n    sideBar:sideBarReducer,\r\n    usersPage: usersReducer,\r\n    auth: authReducer,\r\n    form: formReducer,\r\n    app: appReducer\r\n});\r\n//обертка для подключения расширения chrome REDUX DEVTOOLS, тот в свою очеред подключает средний уровень thunkMiddleware\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(reducers,composeEnhancers(applyMiddleware(thunkMiddleware)\r\n));\r\n//весь store - это редьюсеры от каждой логической части (профиль, юзеры, авторизация и пр.) и  middleware-ы\r\nexport default store;","import React from \"react\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport {connect} from \"react-redux\";\r\n\r\nlet mapStateToPropsForRedirect = (state) => ({\r\n    isSomeoneAuthorized: state.auth.isSomeoneAuthorized\r\n})\r\n//ХОК для реализации редиректа в случае, если нет залогиненного пользователя.\r\nexport const withAuthRedirect = (Component) => {\r\n    class RedirectComponent extends React.Component {\r\n        render() {\r\n            if (!this.props.isSomeoneAuthorized) return <Redirect to={'/login'}/>\r\n            return <Component {...this.props} />\r\n        }\r\n    }\r\n\r\n    return connect(mapStateToPropsForRedirect)(RedirectComponent)\r\n}","import React from 'react';\r\nimport {Redirect} from \"react-router-dom\";\r\nimport {compose} from \"redux\";\r\nimport {withAuthRedirect} from \"../../HOC/WithAuthRedirect\";\r\n//в процесса разработки. Будет поддержка музыкальных медифайлов. Пока редирект\r\nconst Music = () => {\r\n    return <Redirect to={'/InProgress'}/>\r\n}\r\nexport default compose (withAuthRedirect)(Music);","import React from 'react';\r\nimport {Redirect} from \"react-router-dom\";\r\n\r\n\r\nconst Dialogs = () => {\r\n    return <Redirect to={'/InProgress'}/>\r\n}\r\nexport default Dialogs;\r\n","import {sendMessageActionCreator, updateNewMessageBodyActionCreator} from \"../../Redux/dialogsReducer\";\r\nimport Dialogs from \"./Dialogs\";\r\nimport {connect} from \"react-redux\";\r\nimport {compose} from \"redux\";\r\nimport {withAuthRedirect} from \"../../HOC/WithAuthRedirect\";\r\n\r\nlet mapStateToProps = (state) => {\r\n\r\n    return {\r\n        dialogsPage: state.dialogsPage\r\n    }\r\n};\r\nlet mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        sendMessage: (message) => {\r\n            dispatch(sendMessageActionCreator(message));\r\n        },\r\n        updateNewMessageBody: (newBody) => {\r\n            dispatch(updateNewMessageBodyActionCreator(newBody))\r\n        }\r\n    }\r\n};\r\n\r\nexport default compose(connect(mapStateToProps, mapDispatchToProps), withAuthRedirect)(Dialogs);\r\n\r\n\r\n\r\n\r\n\r\n","import React from 'react';\r\nimport {NavLink} from \"react-router-dom\";\r\nimport styles from './NavBar.module.css'\r\nimport cn from 'classnames';\r\n//навигация по разделам приложения\r\nconst NavBar = (props) => {\r\n    //переменная с текстом \"всплывашки\"\r\n    let tooltip = \"Coming soon!\"\r\n    //мапим пункты из reducer-а\r\n    let menuItems = props.sideBar.menuItems.map(m => {\r\n        return <div key={m.id}>\r\n            {/*используем classname для активации всплывашку на нужных пунктах*/}\r\n            {/*если кликаем на профайл, то подставляет ID текущего пользователя в адрес*/}\r\n            <NavLink\r\n                className={cn(styles.navItem, {[styles.navItemWithTooltip]: m.needTooltip === true})}\r\n                data-tooltip={tooltip}\r\n                to={m.item === 'Profile'\r\n                    ? '/' + m.item + '/' + props.currentAuthorizedUserId\r\n                    : '/' + m.item}>{m.item}</NavLink>\r\n        </div>\r\n    })\r\n    return <nav className={styles.navBar}>\r\n        {menuItems}\r\n    </nav>\r\n}\r\n\r\nexport default NavBar;","import NavBar from \"./NavBar\";\r\nimport {connect} from \"react-redux\";\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        sideBar: state.sideBar,\r\n        currentAuthorizedUserId: state.auth.currentAuthorizedUserId\r\n    }\r\n};\r\n//чем оборачиваем компонент: часть state, thunk creators, action creators\r\nexport default connect(mapStateToProps, null)(NavBar)","import React, {useState} from \"react\";\r\nimport cn from 'classnames';\r\nimport styles from './Pagination.module.css'\r\n//компонент выводит страницы различного контента\r\nlet Pagination = (props) => {\r\n//общее число страниц, округленные в большую сторону\r\n    let pagesCount = Math.ceil(props.totalItemsCount / props.usersOnPage);\r\n    //массив для номеров страниц\r\n    let pages = [];\r\n    //заполняем массив\r\n    for (let i = 1; i <= pagesCount; i++) {\r\n        pages.push(i)\r\n    }\r\n    //Хук для задания размера порции оторажаемых страниц. Без сеттера, т.к. пользователь не может сам задавать это число.\r\n    //моно реализовать в будущем.\r\n    let [portionSize] = useState(10)\r\n    //какую порцию показываем. меняется при нажатии\r\n    let [portionNumber, setPortionNumber] = useState(1)\r\n    //общее количесвто порций\r\n    let portionCount = Math.ceil(pagesCount / portionSize)\r\n    //левая граница порции\r\n    let leftPortionPageNumber = (portionNumber - 1) * portionSize + 1\r\n    //правая граница порции\r\n    let rightPortionNumber = portionNumber * portionSize\r\n\r\n    return <div className={styles.pagination}>\r\n        {/*если порция не первая, то показывать кнопки \"предыдущая порция\" или \"в начало\"*/}\r\n        {portionNumber > 1 && <button onClick={() => {\r\n            setPortionNumber(1)\r\n        }}>&lArr;</button>}\r\n        {portionNumber > 1 && <button onClick={() => {\r\n            setPortionNumber(portionNumber - 1)\r\n        }}>&larr;</button>}\r\n{/*отфильровать все порции не входящие в промежуток левой и правой границ*/}\r\n        {pages\r\n            .filter(p => p >= leftPortionPageNumber && p <= rightPortionNumber)\r\n            //отобразить оставшиеся порции\r\n            .map(p => {\r\n                return <span\r\n                    className={cn({[styles.selectedPage]: props.currentPage === p}, styles.pageNumber)}\r\n                    key={p}\r\n                    onClick={() => {\r\n                        //при нажатии меняем порцию и текущую страницу\r\n                        props.onPageChanged(p)\r\n                        props.setCurrentPage(p)\r\n                    }}\r\n                >{p}</span>\r\n            })\r\n        }\r\n        {/*если порция не последняя, то показывать кнопки \"следующая порция\" или \"в конец\"*/}\r\n        {portionCount > portionNumber && <button onClick={() => {\r\n            setPortionNumber(portionNumber + 1)\r\n        }}>&rarr;</button>}\r\n        {portionCount > portionNumber &&\r\n        <button onClick={() => {\r\n            setPortionNumber(portionCount)\r\n        }}>&rArr;\r\n        </button>}\r\n    </div>\r\n}\r\n\r\nexport default Pagination;\r\n","import {NavLink} from \"react-router-dom\";\r\nimport userDefaultIcon from \"../Assets/Images/userDefaultIcon.png\";\r\nimport React from \"react\";\r\nimport styles from './User.module.css'\r\n//компонент для каждого юзера\r\nlet User = (props) => {\r\n    return <div className={styles.userContainer}>\r\n        <div className={styles.userAvatar}>\r\n            {/*каждый аватар - ссылка на станицу профиля этого пользователя. Id передается в URL.*/}\r\n            <NavLink to={'/profile/' + props.id}>\r\n                <img className={styles.userAvatarPicture}\r\n                     //Если у пользователя нет аватарки, то картинка по умолчанию.\r\n                     src={props.photos.small != null ? props.photos.small : userDefaultIcon} alt={''}/>\r\n            </NavLink>\r\n        </div>\r\n        {/*показываем имя, статус*/}\r\n        <div className={styles.userName}>\r\n            {props.name}\r\n        </div>\r\n        <div className={styles.userStatus}>\r\n            {props.statusMessage}\r\n        </div>\r\n        {/*Если ID текущего пользователя не равен ID просматриваемого пользователя, то показываем кнопки\r\n        follow/unfollow. Проверка нужная для предотвращения подписки/отписки на себя самого. */}\r\n        {props.currentAuthorizedUserId !== props.id &&\r\n        <div className={styles.userFollowUnfollowButton}> {\r\n            //если фоловим, то кнопка отписки и наоборот\r\n            props.followed\r\n                ?\r\n                //как только нажимаем кнопку, id пользователя, с которым проводим операцию добавляется в массив в state\r\n                //кнопка отключается до тех пор, пока id в массиве. Для предотвращения беспорядочного нажимания на кнопку.\r\n                //после окончания процедуры id из массива удаляется и кнопка снова доступна\r\n                <button disabled={props.goingToFollow.some(id => id === props.id)} onClick={() => {\r\n                    props.unfollowUser(props.id)\r\n                }}>unfollow</button>\r\n                :\r\n                <button disabled={props.goingToFollow.some(id => id === props.id)} onClick={() => {\r\n                    props.followUser(props.id)\r\n                }}>follow</button>\r\n        }\r\n        </div>\r\n        }\r\n    </div>\r\n}\r\n\r\nexport default User","export default \"data:image/png;base64,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\"","import React from 'react';\r\nimport Pagination from \"../Common/Pagination/Pagination\";\r\nimport User from \"./User\";\r\nimport styles from './Users.module.css'\r\n//общий компнонет для функционала пользователей: страницы и мапинг компонентов под каждого отдельного пользователя.\r\n//количесвто выводимых аккаунтов 5, установлено в initial state и передается при запросе на сервре.\r\n// Пользователь не может менять это значение. На сервере макс. 100\r\nlet Users = (props) => {\r\n    return (\r\n        <div>\r\n            <div className={styles.pagination}>\r\n                <hr/>\r\n                <Pagination totalItemsCount={props.totalUsers}\r\n                            usersOnPage={props.usersOnPage}\r\n                            currentPage={props.currentPage}\r\n                            onPageChanged={props.onPageChanged}\r\n                            setCurrentPage={props.setCurrentPage}\r\n                />\r\n                <hr/>\r\n            </div>\r\n            <div>\r\n                {props.users.map(user =>\r\n                    <User key={user.id}\r\n                          id={user.id}\r\n                          photos={user.photos}\r\n                          name={user.name}\r\n                          statusMessage={user.status}\r\n                          followed={user.followed}\r\n                          goingToFollow={props.goingToFollow}\r\n                          unfollowUser={props.unfollowUser}\r\n                          followUser={props.followUser}\r\n                          currentAuthorizedUserId={props.currentAuthorizedUserId}\r\n                    />\r\n                )}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\nexport default Users;","export default __webpack_public_path__ + \"static/media/loadingCircle.3d61e471.gif\";","import React from 'react';\r\nimport loadingCircle from '../../Assets/Images/loadingCircle.gif';\r\nimport styles from './LoadingCircle.module.css'\r\n//Демонстрирует пользователю процесс загрузки\r\nconst LoadingCircle = () => {\r\n    return <div className={styles.loadingCircleContainer}>\r\n        <img className={styles.loadingCircle} src={loadingCircle} alt={'Loading now'}/>\r\n    </div>\r\n}\r\n\r\nexport default LoadingCircle;\r\n","//селекторы из редьюсера юзеров. Пока бесполезно.\r\n// Сделано на случай усложнения селекторов и применения библеотеки reselect\r\n\r\nexport const getUsers = (state) => {\r\n    return state.usersPage.users\r\n}\r\nexport const getTotalUsers = (state) => {\r\n    return state.usersPage.totalUsers\r\n}\r\nexport const getCurrentPage = (state) => {\r\n    return state.usersPage.currentPage\r\n}\r\nexport const getUsersOnPage = (state) => {\r\n    return state.usersPage.usersOnPage\r\n}\r\nexport const getIsLoading = (state) => {\r\n    return state.usersPage.isLoading\r\n}\r\nexport const getGoingToFollow = (state) => {\r\n    return state.usersPage.goingToFollow\r\n}\r\nexport const getSearchingUserName = (state) => {\r\n    return state.usersPage.searchingUserName\r\n}\r\n","//селекторы из редьюсера авторизации. Пока бесполезно.\r\n// Сделано на случай усложнения селекторов и применения библеотеки reselect\r\n\r\nexport const getCurrentAuthorizedUserId = (state) => {\r\n    return state.auth.currentAuthorizedUserId\r\n}\r\nexport const getEmail = (state) => {\r\n    return state.auth.email\r\n}\r\nexport const getLogin = (state) => {\r\n    return state.auth.login\r\n}\r\nexport const getIsSomeoneAuthorized = (state) => {\r\n    return state.auth.isSomeoneAuthorized\r\n}\r\nexport const getCaptchaImageUrl = (state) => {\r\n    return state.auth.captchaImageUrl\r\n}\r\n","import React from 'react';\r\nimport {connect} from \"react-redux\";\r\nimport {\r\n    follow,\r\n    unfollow,\r\n    setCurrentPage,\r\n    followingInProgress,\r\n    requestUsers,\r\n    followUser,\r\n    unfollowUser, setSearchingUserName\r\n} from \"../../Redux/usersReducer\";\r\nimport Users from \"./Users\";\r\nimport LoadingCircle from \"../Common/LoadingCircle/LoadingCircle\";\r\nimport {\r\n    getCurrentPage,\r\n    getGoingToFollow,\r\n    getIsLoading, getSearchingUserName,\r\n    getTotalUsers,\r\n    getUsers,\r\n    getUsersOnPage\r\n} from \"../../Redux/Selectors/usersSelectors\";\r\nimport {withRouter} from \"react-router-dom\";\r\nimport {compose} from \"redux\";\r\nimport styles from './Users.module.css'\r\nimport {getCurrentAuthorizedUserId} from \"../../Redux/Selectors/authSelector\";\r\nimport {withAuthRedirect} from \"../../HOC/WithAuthRedirect\";\r\n//классовый компонет-обертка для страницы пользователей. Используем методы жизн. цикла.\r\n// Страница пользователей реализует 3 функции:\r\n// Демонистрирует всех пользователей на серврере (Users),\r\n// зафоловленных пользователей (Following) и выводит результаты\r\n// поиска по имени/ID. Можно было вивести страницу друзей в отеьный компонент,\r\n// но т.к. используется оидн раздел API (usersApi) функции выведены в один раздел.\r\nclass UsersContainer extends React.Component {\r\n//Если на странице Following, т.е. смотрим друзей, то показываются пользователи с меткой following.\r\n// В остальном функционал идентичен Users\r\n    areWeLookingForAFriends() {\r\n        //из URL при помощи withRouter берем значение выбранной страницы\r\n        if (this.props.match.url === '/Following') {\r\n            return true\r\n        }\r\n    }\r\n//при монтировании делаем запрос за всеми пользователями (+ ищем всех или только друзей)\r\n    componentDidMount() {\r\n        this.props.requestUsers(1, this.props.usersOnPage, this.areWeLookingForAFriends(), this.props.searchingUserName);\r\n    }\r\n//при изменении отображаемой страницы пользователей делаем новый запрос (Pagination)\r\n    onPageChanged = (pageNumber) => {\r\n        this.props.requestUsers(pageNumber, this.props.usersOnPage, this.areWeLookingForAFriends(), this.props.searchingUserName);\r\n    }\r\n\r\n    render() {\r\n        return <>\r\n            {/*Если не загрузили список, то показываем загрузочный кружок*/}\r\n            {this.props.isLoading ? <LoadingCircle/> : <div>{null}</div>}\r\n            {/*если перешли сюда из поиска, то есть имя поиска,\r\n            то происходит вывод пользователей подходящих по критерию. Поисковый запрос записывается в reducer*/}\r\n            {this.props.searchingUserName !== null &&\r\n            <div className={styles.searchingResultData}>\r\n                {/*Выводим информацию о результате поиска*/}\r\n                <div>Found {this.props.totalUsers} users with name {this.props.searchingUserName}</div>\r\n                <div>\r\n                    {/*также показываем кнопку для сброса результатов поиска и диспатчим обнуление поискового запроса\r\n                    и делаем общий запрос за пользователями*/}\r\n                    <button onClick={() => {\r\n                        this.props.setSearchingUserName(null)\r\n                        this.props.requestUsers(this.props.currentPage, this.props.usersOnPage, this.areWeLookingForAFriends(), null)\r\n                    }}>Clear searching results\r\n                    </button>\r\n                </div>\r\n            </div>}\r\n{/*рисуем компонент Пользователи и передаем через пропсы все нужное*/}\r\n            <Users\r\n                users={this.props.users}\r\n                totalUsers={this.props.totalUsers}\r\n                usersOnPage={this.props.usersOnPage}\r\n                currentPage={this.props.currentPage}\r\n                unfollow={this.props.unfollow}\r\n                follow={this.props.follow}\r\n                onPageChanged={this.onPageChanged}\r\n                goingToFollow={this.props.goingToFollow}\r\n                followingInProgress={this.props.followingInProgress}\r\n                followUser={this.props.followUser}\r\n                unfollowUser={this.props.unfollowUser}\r\n                setCurrentPage={this.props.setCurrentPage}\r\n                currentAuthorizedUserId={this.props.currentAuthorizedUserId}\r\n            />\r\n        </>\r\n    }\r\n}\r\n//что берем из State с помощью самописных селекторов. В дальнейшем возможна реализация сложных селекторов с библиотекой\r\n// Reselect\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        users: getUsers(state),\r\n        totalUsers: getTotalUsers(state),\r\n        currentPage: getCurrentPage(state),\r\n        usersOnPage: getUsersOnPage(state),\r\n        isLoading: getIsLoading(state),\r\n        goingToFollow: getGoingToFollow(state),\r\n        searchingUserName: getSearchingUserName(state),\r\n        currentAuthorizedUserId: getCurrentAuthorizedUserId(state)\r\n    }\r\n};\r\n\r\n//чем оборачиваем контейнерный компонент: часть state, thunk creators, action creators, withROuter для доступа к истории\r\n//и самописным ХОКом для защиты от неавторизованных пользователей.\r\nexport default compose(connect(\r\n    mapStateToProps,\r\n    {\r\n        follow,\r\n        unfollow,\r\n        setCurrentPage,\r\n        followingInProgress,\r\n        requestUsers,\r\n        followUser,\r\n        unfollowUser,\r\n        setSearchingUserName\r\n    }), withRouter, withAuthRedirect)(UsersContainer);\r\n","import React from \"react\";\r\nimport styles from './FormControls.module.css'\r\nimport {Field} from \"redux-form\";\r\n\r\n//переписанный textarea, чтобы отображать ошибки валидации\r\nexport const Textarea = ({input, meta, ...props}) => {\r\n    const hasError = meta.touched && meta.error\r\n    return <div className={styles.formControls + \" \" + (hasError ? styles.error : \"\")}>\r\n        <textarea {...input}{...props}/>\r\n        {hasError && <span>{meta.error}</span>}\r\n    </div>\r\n}\r\n//переписанный input, чтобы отображать ошибки валидации\r\nexport const Input = ({input, meta, ...props}) => {\r\n    const hasError = meta.touched && meta.error\r\n    return <div className={styles.formControls + \" \" + (hasError ? styles.error : \"\")}>\r\n        <input className={styles.input} {...input}{...props}/>\r\n        {hasError && <span>{meta.error}</span>}\r\n    </div>\r\n}\r\n//отдельная фнкция для создания Field от Redux Form. При вызове достаточно переать нужные параметры.\r\nexport const createField = (placeholder, name, validators, component, props = {}, text = \"\") => {\r\n    return <div>\r\n        <Field placeholder={placeholder}\r\n               validate={validators}\r\n               name={name}\r\n               component={component}\r\n               {...props}/>\r\n        {text}\r\n    </div>\r\n}","//Реализация кастомных валидаторов: обязательное поле и максимальная длина символов\r\n\r\nexport const requiredField = value => {\r\n    if (value) return undefined\r\n    return \"Field is required\"\r\n}\r\nexport const maxLengthCustom = (maxLength) => (value) => {\r\n    if (value === undefined) return undefined\r\n    if (value.length > maxLength) return `Max length is ${maxLength} symbols`\r\n}\r\n","import React, {useEffect, useState} from \"react\";\r\nimport styles from './ProfileStatus.module.css'\r\nimport {createField, Input} from \"../../Common/FormControls/FormControls\";\r\nimport {maxLengthCustom} from \"../../../Utils/Validators/Validators\";\r\nimport {Form, reduxForm} from \"redux-form\";\r\n//переменная максимальной длины статуса (300 на сервере)\r\nlet maxLength = maxLengthCustom(300)\r\n\r\nconst ProfileStatus = (props) => {\r\n    //локальный стейт текста статуса и переключения режима его редактирования. Хуки\r\n    let [status, setStatus] = useState(props.status);\r\n    let [editMode, setEditMode] = useState(false);\r\n//включение режима редактирования\r\n    let editModeOn = () => {\r\n        setEditMode(true)\r\n    }\r\n    //выключение режима редактирования и вызов thunk-creator\r\n    let editModeOff = (status) => {\r\n        setEditMode(false)\r\n        props.updateStatus(status.editStatus)\r\n    }\r\n    //Хук для реагирования на смену статуса на сервере и перерисовки\r\n    useEffect(() => {\r\n        setStatus(props.status)\r\n    }, [props.status])\r\n\r\n    return <div className={styles.statusForm}>\r\n        {/*только владелец может менять статус*/}\r\n        {props.isOwner\r\n            ? <div>\r\n                {!editMode &&\r\n                <div>\r\n                        <span title={'Нажмите, чтобы изменить статус'}\r\n                              onClick={editModeOn}>{props.status || \"What's new?\"}</span>\r\n                </div>\r\n                }\r\n                {/*если режим редактирования то показываем поле ввода*/}\r\n                {editMode &&\r\n                <div>\r\n                    <EditStatusFormReduxForm onSubmit={editModeOff} initialValues={{editStatus: status}}/>\r\n                </div>}\r\n            </div>\r\n            : <span>{props.status || \"Here could be status\"}</span>}\r\n    </div>\r\n}\r\n//форма для ввода. Используем самописную функцию для формы с валидацией макс. размера\r\nlet EditStatusForm = (props) => {\r\n    return <Form onSubmit={props.handleSubmit}>\r\n        {createField(\"Tell something\", 'editStatus', maxLength, Input)}\r\n    </Form>\r\n}\r\n//обертка redux form с именем формы\r\nconst EditStatusFormReduxForm = reduxForm({form: 'editStatus'})(EditStatusForm)\r\nexport default ProfileStatus;","import React from \"react\";\r\nimport {Form, reduxForm} from \"redux-form\";\r\nimport {createField, Input, Textarea} from \"../../Common/FormControls/FormControls\";\r\nimport error from \"../../Common/FormControls/FormControls.module.css\";\r\nimport styles from './ProfileDataForm.module.css'\r\n//форма для изменнеи я личных данных\r\nlet ProfileEditDataForm = (props) => {\r\n    return <Form onSubmit={props.handleSubmit}>\r\n        <div className={styles.form}>\r\n            <div className={styles.saveButton}>\r\n                <button>Save</button>\r\n            </div>\r\n            {/*если ошибка, то показываем ее полный текст от сервера*/}\r\n            {props.error && <div className={error.formCommonError}>{props.error}</div>}\r\n\r\n            <div>\r\n                <div>\r\n                    <h4>Full Name</h4>\r\n                </div>\r\n                {createField('Full name', 'fullName', [], Input)}\r\n            </div>\r\n\r\n            <div>\r\n                <div>\r\n                    <h4>Looking for a job</h4>\r\n                </div>\r\n                {createField('', 'lookingForAJob', [], Input, {type: 'checkbox'})}\r\n            </div>\r\n            <div>\r\n                <div>\r\n                    <h4>My professional skills (if looking for a job)</h4>\r\n                </div>\r\n                {createField('Whats your skills?', 'lookingForAJobDescription', [], Textarea)}\r\n            </div>\r\n            <div>\r\n                <div>\r\n                    <h4>About me</h4>\r\n                </div>\r\n                {createField('Tell something about yourself', 'aboutMe', [], Textarea)}\r\n            </div>\r\n\r\n            <div>\r\n                <div>\r\n                    <h4>Contacts</h4>\r\n                </div>\r\n                {/*мапим поле изменения каждого контакта по ключам*/}\r\n                {Object.keys(props.profile.contacts).map(key => {\r\n                    return <div className={styles.contactLabel}>\r\n                        {key} {createField(key, 'contacts.' + key, [], Input)}\r\n                    </div>\r\n                })}\r\n            </div>\r\n        </div>\r\n    </Form>\r\n}\r\n//обертка redux form с именем формы\r\nconst ProfileDataFormReduxForm = reduxForm({form: 'edit-profile'})(ProfileEditDataForm)\r\nexport default ProfileDataFormReduxForm","export default __webpack_public_path__ + \"static/media/userDefaultIconLarge.6b292787.png\";","import userDefaultIconLarge from \"../../Assets/Images/userDefaultIconLarge.png\";\r\nimport React from \"react\";\r\n//компонент с аватаром\r\nlet ProfileAvatar = (props) => {\r\n    return <label>\r\n        <img\r\n            //если фото нет то стандартная картинка\r\n            src={props.profile.photos.large || userDefaultIconLarge}\r\n            alt=\"avatar\"\r\n            title={props.isOwner && \"Нажмите, чтобы изменить изображение\"}/>\r\n            {/*обработка нажатия на фото для смены*/}\r\n        {props.isOwner && <input type={'file'} onChange={props.onAvatarSelected} hidden/>}\r\n    </label>\r\n}\r\nexport default ProfileAvatar","import styles from \"./ProfileInfo.module.css\";\r\nimport React from 'react';\r\n//компонент с личными данными\r\nlet ProfilePersonalInfo = (props) => {\r\n    return <div>\r\n        <div className={styles.profileAboutMe}>\r\n            <div className={styles.labelOfItem}>About me</div>\r\n            {props.profile.aboutMe}\r\n        </div>\r\n        <div className={styles.profileLookingForAJob}>\r\n            <div className={styles.labelOfItem}>Looking for a job</div>\r\n            {props.profile.lookingForAJob ? 'Hell yeah' : 'Fortunately not'}\r\n        </div>\r\n        <div>\r\n            {props.profile.lookingForAJob &&\r\n            <div className={styles.profileLookingForAJobDescription}>\r\n                <div className={styles.labelOfItem}>My professional skills</div>\r\n                {props.profile.lookingForAJobDescription}\r\n            </div>}\r\n        </div>\r\n    </div>\r\n}\r\n\r\nexport default ProfilePersonalInfo","import React from \"react\";\r\nimport styles from './Contacts.module.css'\r\n//компонент отдельно взятого контакта с деструктуризацией пропов\r\nlet Contact = ({contactTitle, contactValue}) => {\r\n    return <div>\r\n        <div>{contactTitle}</div>\r\n        <div className={styles.contactValue}>{contactValue}</div>\r\n    </div>\r\n}\r\nexport default Contact","import Contact from \"./Contact\";\r\nimport React from \"react\";\r\nimport styles from './Contacts.module.css'\r\n//компонент со списков компонент отдельных контактов\r\nlet Contacts = (props) => {\r\n    return <div>\r\n        {/*строка проверки на случай, если ни один из контактов не указан. Тогда и надпись \"контаткты\" не показывается*/}\r\n        {Object.keys(props.profile.contacts).some(elem => props.profile.contacts[elem] !== null && props.profile.contacts[elem] !== \"\") &&\r\n        <div className={styles.contactsLabel}>\r\n            Contacts\r\n        </div>}\r\n        <div>\r\n            {/*контакты с сервера приходя как объект. Используем Object.keys для взятия ключей и значений этого объекта*/}\r\n            {Object.keys(props.profile.contacts).map(key => {\r\n                if (props.profile.contacts[key])\r\n                    return <Contact key={key} contactTitle={key} contactValue={props.profile.contacts[key]}/>\r\n                else return null\r\n            })}\r\n        </div>\r\n    </div>\r\n}\r\nexport default Contacts","import React, {useState} from 'react';\r\nimport LoadingCircle from \"../../Common/LoadingCircle/LoadingCircle\";\r\nimport ProfileStatus from \"../ProfileStatus/ProfileStatus\";\r\nimport ProfileEditDataForm from \"../ProfileDataForm/ProfileDataForm\";\r\nimport styles from './ProfileInfo.module.css'\r\nimport ProfileAvatar from \"./ProfileAvatar\";\r\nimport ProfilePersonalInfo from \"./ProfilePersonalInfo\";\r\nimport Contacts from \"../Contacts/Contacts\";\r\n//компонент с личными данными пользователя. Без постов\r\nconst ProfileInfo = (props) => {\r\n    //локальный стейт из хука для переключения режима редактирования\r\n    let [editMode, setEditMode] = useState(false);\r\n    //если профиль пока не подгрузился, то видим символ загрузки\r\n    if (!props.profile) {\r\n        return <LoadingCircle/>\r\n    }\r\n    //Пользователь вибирает одну/несколько фото. Берем первую. Вызываем thunk creator\r\n    let onAvatarSelected = (e) => {\r\n        if (e.target.files.length) {\r\n            props.setNewAvatar(e.target.files[0])\r\n        }\r\n    }\r\n    //При сабмите изменения данных вызываем thunk creator\r\n    let onSubmit = (formData) => {\r\n        props.saveProfile(formData).then(() => {\r\n            //и выключаем режим редактирования\r\n            setEditMode(false)\r\n        })\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <div className={styles.profileMainData}>\r\n\r\n                <div className={styles.profileAvatar}>\r\n                    {/*Отображаем аватар*/}\r\n                    <ProfileAvatar profile={props.profile}\r\n                                   onAvatarSelected={onAvatarSelected}\r\n                                   isOwner={props.isOwner}/>\r\n                </div>\r\n{/*Имя*/}\r\n                <div className={styles.profileFullName}>\r\n                    {props.profile.fullName}\r\n                </div>\r\n{/*отображаем компонент статуса*/}\r\n                <div className={styles.profileStatus}>\r\n                    <ProfileStatus className={styles.profileStatusSpan} status={props.status}\r\n                                   updateStatus={props.updateStatus} isOwner={props.isOwner}/>\r\n                    <hr/>\r\n                </div>\r\n{/*отображаем компонент с данными о поиске работы, проф. навыками, о себе и пр.*/}\r\n                <div className={styles.profilePersonalInfo}>\r\n                    <ProfilePersonalInfo profile={props.profile}/>\r\n                    <hr/>\r\n                </div>\r\n            </div>\r\n            {/*если не на своей странице, то показывем кнопку зафоловить/отписаться*/}\r\n            {!props.isOwner &&\r\n            <div className={styles.userFollowUnfollowButton}> {\r\n                props.isFollowed\r\n                    ?\r\n                    <button onClick={() => {\r\n                        props.unfollowUser(props.profile.userId)\r\n                    }}>unfollow</button>\r\n                    :\r\n                    <button onClick={() => {\r\n                        props.followUser(props.profile.userId)\r\n                    }}>follow</button>\r\n            }\r\n            </div>}\r\n{/*Часть с контактами*/}\r\n            <div className={styles.contacts}>\r\n                <Contacts profile={props.profile}/>\r\n                <hr/>\r\n            </div>\r\n{/*Если в режиме редактирования, то отображаем форму реактирования*/}\r\n            {editMode &&\r\n            <ProfileEditDataForm onSubmit={onSubmit} initialValues={props.profile} profile={props.profile}/>}\r\n{/*если на своей странице и режим редактирования не включен, то показавыем кнопку для входа в режим редактирования*/}\r\n            {props.isOwner && !editMode &&\r\n            <div className={styles.profileEditInfoButton}>\r\n                <button onClick={() => {\r\n                    setEditMode(true)\r\n                }}>Edit profile info\r\n                </button>\r\n            </div>}\r\n            <hr/>\r\n        </div>\r\n    );\r\n}\r\nexport default ProfileInfo;\r\n","import React from \"react\";\r\nimport styles from './Post.module.css'\r\n//компонент с написанным постом\r\nconst Post = (props) => {\r\n    return (\r\n        <div className={styles.post}>\r\n            <div className={styles.authorsAvatar}>\r\n                <img src={props.avatar} alt=''/>\r\n            </div>\r\n            <div className={styles.postContent}>\r\n                {props.post}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\nexport default Post;","import React from 'react'\r\nimport Post from './Post/Post'\r\nimport {reduxForm} from \"redux-form\";\r\nimport {maxLengthCustom, requiredField} from \"../../../Utils/Validators/Validators\"\r\nimport {createField, Textarea} from \"../../Common/FormControls/FormControls\"\r\nimport styles from './ProfilePosts.module.css'\r\n//переменная с максимальной длиной поста. Для валидации\r\nlet maxLength = maxLengthCustom(50)\r\n//компонент с постами: поле ввода и сами посты. Пока на сервер не идут. Изменения только в UI и BLL\r\nconst ProfilePosts = (props) => {\r\n\r\n    let postsItems = props.posts.map(p => <Post key={p.id} post={p.post} avatar={props.profile.photos.small}/>)\r\n    let addPost = (values) => {\r\n        props.addNewPostAndReset(values.newPost)\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <div className={styles.label}>\r\n                Posts\r\n            </div>\r\n            <div className={styles.newPostForm}>\r\n                <div className={styles.authorsAvatar}>\r\n                    <img src={props.profile.photos.small} alt={''}/>\r\n                </div>\r\n                <div className={styles.postsForm}>\r\n                    <NewPostReduxForm onSubmit={addPost}/>\r\n                </div>\r\n            </div>\r\n            {postsItems}\r\n        </div>\r\n    );\r\n}\r\n//форма нового поста с фото текущ. пользователя\r\nconst NewPostForm = (props) => {\r\n    //текст \"всплывашки\" для пояснения возможностей постов\r\n    let tooltip = \"For now, posts are just a concept of how they will look using Redux Forms. \" +\r\n        \"This post will not be added to the server due to API limitation. \" +\r\n        \"But this option is under development.\"\r\n    return (\r\n        <form onSubmit={props.handleSubmit}>\r\n            <div className={styles.form}>\r\n                <div className={styles.textarea}>\r\n                    {/*самописная функция для создания формы*/}\r\n                    {createField(\"What's new?\", 'newPost', [requiredField, maxLength], Textarea,)}\r\n                </div>\r\n                <div className={styles.addButtonArea}>\r\n                    {/*кнопка добавления*/}\r\n                    <button className={styles.addButton} data-tooltip={tooltip}>Add</button>\r\n                </div>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n//обертка redux form с именем формы\r\nconst NewPostReduxForm = reduxForm({form: 'newPost'})(NewPostForm)\r\n\r\nexport default ProfilePosts;","import React from 'react';\r\nimport ProfileInfo from \"./ProfileInfo/ProfileInfo\";\r\nimport MyPosts from \"./ProfilePosts/ProfilePosts\";\r\nimport LoadingCircle from \"../Common/LoadingCircle/LoadingCircle\";\r\n//компонент профайла. Данные и посты. Если профиль не подгрузился, то показываем загрузочный значок\r\nconst Profile = (props) => {\r\n    return (\r\n        props.profile\r\n            ? <div>\r\n                <ProfileInfo\r\n                    profile={props.profile}\r\n                    status={props.status}\r\n                    updateStatus={props.updateStatus}\r\n                    isOwner={props.isOwner}\r\n                    setNewAvatar={props.setNewAvatar}\r\n                    saveProfile={props.saveProfile}\r\n                    followUser={props.followUser}\r\n                    unfollowUser={props.unfollowUser}\r\n                    isFollowed={props.isFollowed}\r\n                />\r\n                {/*поскольку посты не идут на сервре, то возможно писать посты есть только у владельца*/}\r\n                {props.isOwner &&\r\n                <MyPosts profile={props.profile} posts={props.posts} addNewPostAndReset={props.addNewPostAndReset}/>\r\n                }\r\n            </div>\r\n            : <LoadingCircle/>\r\n    );\r\n}\r\nexport default Profile;","//селекторы из редьюсера профайла. Пока бесполезно.\r\n// Сделано на случай усложнения селекторов и применения библеотеки reselect\r\n\r\nexport const getProfile = (state) => {\r\n    return state.profilePage.profile\r\n}\r\n\r\nexport const getStatus = (state) => {\r\n    return state.profilePage.status\r\n}\r\nexport const getIsFollowedFromState = (state) => {\r\n    return state.profilePage.isFollowed\r\n}\r\nexport const getPosts = (state) => {\r\n    return state.profilePage.posts\r\n}","import React from 'react';\r\nimport Profile from \"./Profile\";\r\nimport {\r\n    getProfileById,\r\n    getUserStatus,\r\n    updateStatus,\r\n    setNewAvatar,\r\n    saveProfile,\r\n    getIsFollowed, addNewPostAndReset\r\n} from \"../../Redux/profileReducer\";\r\nimport {connect} from \"react-redux\";\r\nimport {withRouter} from \"react-router-dom\";\r\nimport {compose} from \"redux\";\r\nimport {withAuthRedirect} from \"../../HOC/WithAuthRedirect\";\r\nimport {getIsFollowedFromState, getPosts, getProfile, getStatus} from \"../../Redux/Selectors/profileSelector\";\r\nimport {getCurrentAuthorizedUserId, getIsSomeoneAuthorized} from \"../../Redux/Selectors/authSelector\";\r\nimport {followUser, unfollowUser} from \"../../Redux/usersReducer\";\r\n//классовый компонент для использования методов жизненного цикла. Можно реализовать и функц. компонентом с хуком useEffect\r\nclass ProfileContainer extends React.Component {\r\n//Функция для раегирования на изменения в профале\r\n    refreshProfile() {\r\n        //ID берем из строки URL\r\n        let userId = this.props.match.params.userId;\r\n\r\n        if (!userId) {\r\n            if (this.props.isSomeoneAuthorized) {\r\n                //если в URL нет ID, то берем ID текущего авторизованного юзера\r\n                userId = this.props.currentAuthorizedUserId;\r\n            } else {\r\n                //если такового нет, то редирект на логон\r\n                this.props.history.push('/login')\r\n            }\r\n        }\r\n        //Получив ID запрашиваем профиль, статус, статус дружбы с профилем\r\n        this.props.getProfileById(userId)\r\n        this.props.getUserStatus(userId)\r\n        this.props.getIsFollowed(userId)\r\n    }\r\n//Обновляем компонет при монитровании\r\n    componentDidMount() {\r\n        this.refreshProfile()\r\n    }\r\n//и при изменении. Зависимость обновления: ID из URL (в случае перехода на другой профиль) или смена статуса дружбы\r\n    componentDidUpdate(prevProps, prevState, snapshot) {\r\n        if (this.props.match.params.userId !== prevProps.match.params.userId ||\r\n        this.props.isFollowed !== prevProps.isFollowed)\r\n        this.refreshProfile()\r\n    }\r\n\r\n    render() {\r\n        return (<Profile {...this.props}\r\n                         profile={this.props.profile}\r\n                         status={this.props.status}\r\n                         updateStatus={this.props.updateStatus}\r\n                         isOwner={this.props.match.params.userId === this.props.currentAuthorizedUserId.toString()}\r\n                         setNewAvatar = {this.props.setNewAvatar}\r\n                         saveProfile={this.props.saveProfile}\r\n                         followUser={this.props.followUser}\r\n                         unfollowUser={this.props.unfollowUser}\r\n                         isFollowed={this.props.isFollowed}\r\n\r\n        />)\r\n\r\n    }\r\n}\r\n//используем селекторы\r\nlet mapStateToProps = (state) => ({\r\n    profile: getProfile(state),\r\n    status: getStatus(state),\r\n    currentAuthorizedUserId: getCurrentAuthorizedUserId(state),\r\n    isSomeoneAuthorized: getIsSomeoneAuthorized(state),\r\n    isFollowed:getIsFollowedFromState(state),\r\n    posts: getPosts(state)\r\n});\r\n//чем оборачиваем компонент: часть state, thunk creators, action creators, withRouter для доступа к history, самописный\r\n//HOC withAuthRedirect для редиректа, если пользователь не залогинен\r\nexport default compose(connect(mapStateToProps, {\r\n    getProfileById,\r\n    getUserStatus,\r\n    getIsFollowed,\r\n    updateStatus,\r\n    setNewAvatar,\r\n    saveProfile,\r\n    followUser,\r\n    unfollowUser,\r\n    addNewPostAndReset\r\n}), withRouter, withAuthRedirect)(ProfileContainer);","import React from \"react\";\r\nimport {createField, Input} from \"../Common/FormControls/FormControls\";\r\nimport {reduxForm} from \"redux-form\";\r\nimport error from \"../Common/FormControls/FormControls.module.css\";\r\n//форма поиска\r\nlet SearchBar = (props) => {\r\n    return <form onSubmit={props.handleSubmit}>\r\n        {/*используем заготовленную функция создания формы*/}\r\n        {createField('Find someone by Name or ID', 'searchBar', [], Input)}\r\n        {/*если ошибка, то показываем ее полный текст от сервереа*/}\r\n        {props.error && <div className={error.formCommonError}>{props.error}</div>}\r\n    </form>\r\n}\r\n//обертка redux form с именем формы\r\nconst SearchBarForm = reduxForm({form: 'searchBar'})(SearchBar)\r\nexport default SearchBarForm","export default __webpack_public_path__ + \"static/media/Logo.ea88fdf3.png\";","import React from 'react';\r\nimport styles from './Header.module.css';\r\nimport {NavLink, withRouter} from \"react-router-dom\";\r\nimport SearchBarForm from \"./SearchBar\";\r\nimport {compose} from \"redux\";\r\nimport Logo from '../Assets/Images/Logo.png'\r\n//шапка.\r\n\r\nconst Header = (props) => {\r\n    //функция, срабатывающая при вводе данных в форму поиска\r\n    let findUser = (value) => {\r\n        //проверка не ищет ли пользователя по ID (т.е. числу)\r\n        if (Number.isNaN(Number(value.searchBar))) {\r\n            //если в поиске не номер, то делаем запрос с текстом из поля\r\n            props.requestUsers(1, null, false, value.searchBar)\r\n            //и переходим на страницу Users для демонстрации результатов\r\n            if (props.history.location.pathname !== '/Users') {\r\n                props.history.push('/Users')\r\n            }\r\n        } else {\r\n            //если номер, то сразу переходим на страницу пользваоетя с указанным ID.\r\n            // Проверка на отстувие введеного ID присходит при запросе на сервер\r\n            props.history.push(`/Profile/${value.searchBar}`)\r\n        }\r\n        //вызов Thunk creator-а для очитски поля ввода\r\n        props.resetSearchingForm()\r\n    }\r\n\r\n    return (\r\n        <header className={styles.header}>\r\n            <div className={styles.logo}>\r\n                {/*при нажатии на лого переходим на приветственную страницу*/}\r\n                <NavLink to={'/'}>\r\n                    <img src={Logo} alt=\"logo\"/>\r\n                </NavLink>\r\n            </div>\r\n            <div className={styles.searchBarForm}>\r\n                {/*отображении формы для поиска с передачий функции при вводе*/}\r\n                <SearchBarForm onSubmit={findUser}/>\r\n            </div>\r\n            <div className={styles.currentUserInfo}>\r\n                {/*если кто-то залогинен, то показываем его никнейм, кнопу выхода*/}\r\n                {props.isSomeoneAuthorized\r\n                    ? <div className={styles.nicknameAndButton}>\r\n                        <div className={styles.currentUserLogin}>{props.login}</div>\r\n                        <button className={styles.logoutButton} onClick={props.logoutRequest}>Logout</button>\r\n                    </div>\r\n                    // если нет, то ссылка на страницу логона\r\n                    : <NavLink className={styles.loginFormRef} to='/login'>Login</NavLink>}\r\n            </div>\r\n        </header>\r\n    );\r\n}\r\n//роутер нужен для взаимодейсвтия с историей браузера history.location и .history.push\r\nexport default compose(withRouter)(Header);","import React from 'react';\r\nimport Header from \"./Header\";\r\nimport {connect} from \"react-redux\";\r\nimport {logoutRequest} from \"../../Redux/authReducer\";\r\nimport {requestUsers, resetSearchingForm} from \"../../Redux/usersReducer\";\r\nimport {getProfileById} from \"../../Redux/profileReducer\";\r\n\r\nclass HeaderComponent extends React.Component {\r\n    render() {\r\n        return <Header {...this.props}/>\r\n    }\r\n}\r\n//что берем из reducer-а\r\nconst mapStateToProps = (state) => ({\r\n    isSomeoneAuthorized: state.auth.isSomeoneAuthorized,\r\n    login: state.auth.login\r\n});\r\n//чем оборачиваем компонент: часть state, thunk creators, action creators\r\nexport default connect(mapStateToProps, {\r\n    logoutRequest,\r\n    requestUsers,\r\n    getProfileById,\r\n    resetSearchingForm\r\n})(HeaderComponent);","import React from \"react\";\r\nimport {Field, reduxForm} from \"redux-form\";\r\nimport {connect} from \"react-redux\";\r\nimport {loginRequest} from \"../../Redux/authReducer\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport {createField, Input} from \"../Common/FormControls/FormControls\";\r\nimport {requiredField} from \"../../Utils/Validators/Validators\";\r\nimport styles from '../Common/FormControls/FormControls.module.css'\r\nimport {\r\n    getCaptchaImageUrl,\r\n    getCurrentAuthorizedUserId,\r\n    getIsSomeoneAuthorized\r\n} from \"../../Redux/Selectors/authSelector\";\r\nimport stylesLog from './LoginPage.module.css'\r\n\r\nconst LoginForm = (props) => {\r\n    return (\r\n        /*форма полей для логона с фалидацией \"обязательное поле\" из файла Validators. Общая функция для создания не используется\"*/\r\n        <form onSubmit={props.handleSubmit}>\r\n            <div>\r\n                <Field placeholder=\"E-mail\" component={Input} name={\"email\"} validate={[requiredField]}/>\r\n            </div>\r\n            <div>\r\n                <Field placeholder=\"Password\" component={Input} type=\"password\" name={\"password\"}\r\n                       validate={[requiredField]}/>\r\n            </div>\r\n            <div>\r\n                <Field component={Input} type=\"checkbox\" name={\"rememberMe\"}/> Remember me\r\n            </div>\r\n            {/*если ошибка, то показываем ее полный текст от сервреа*/}\r\n            {props.error && <div className={styles.formCommonError}>{props.error}</div>}\r\n            {/*на сервере реализована капча для подозрительных дейсвтий*/}\r\n            {props.captchaImageUrl && <img src={props.captchaImageUrl} alt={''}/>}\r\n            {/*при необходимости выходит сама капча и поле для ввода*/}\r\n            {props.captchaImageUrl && createField(null, 'captcha', requiredField, Input)}\r\n{/*кнопка сабмита*/}\r\n            <div>\r\n                <button>Login</button>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n//обертка redux form с именем формы\r\nconst LoginReduxForm = reduxForm({form: 'login'})(LoginForm)\r\n\r\nconst LoginPage = (props) => {\r\n    //при сабмите вызывается thunk creator для авторизации\r\n    const onSubmit = (formData) => {\r\n        props.loginRequest(formData.email, formData.password, formData.rememberMe, formData.captcha)\r\n    }\r\n    //если кто-то авторизован, то редирект на страиуц пользователя\r\n    if (props.isSomeoneAuthorized) {\r\n        return <Redirect to={`/Profile/${props.currentAuthorizedUserId}`}/>\r\n    }\r\n    //если нет, то отображается страница логона\r\n    return <div className={stylesLog.login}>\r\n        <div>\r\n            <h1>Login</h1>\r\n        </div>\r\n        <div>\r\n            <LoginReduxForm onSubmit={onSubmit} captchaImageUrl={props.captchaImageUrl}/>\r\n        </div>\r\n    </div>\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    isSomeoneAuthorized: getIsSomeoneAuthorized(state),\r\n    captchaImageUrl: getCaptchaImageUrl(state),\r\n    currentAuthorizedUserId: getCurrentAuthorizedUserId(state)\r\n})\r\n//чем оборачиваем компонент: часть state, thunk creators, action creators\r\nexport default connect(mapStateToProps, {loginRequest})(LoginPage);\r\n\r\n","//селектор из редьюсера app. Пока бесполезно.\r\n// Сделано на случай усложнения селекторов и применения библеотеки reselect\r\n\r\nexport const getIsInitialized = (state) => {\r\n    return state.app.isInitialized\r\n}","export default __webpack_public_path__ + \"static/media/inProgress.1cab58c5.gif\";","import workingHard from '../../Assets/Images/inProgress.gif'\r\nimport React from 'react'\r\nimport styles from './InProgress.module.css'\r\n//Заглушка разделов в разработке\r\nlet InProgress = () => {\r\n    return <div>\r\n        <div className={styles.h1}>\r\n            <h1>In progress</h1>\r\n            <hr/>\r\n        </div>\r\n        <div className={styles.text}>\r\n            <p>Hey visitor!</p>\r\n            <p> This amazing feature in the process. I am studying React and related technologies hard. And as I\r\n                improve, the project will grow.</p>\r\n            <p>Stay tuned!</p>\r\n        </div>\r\n        <div className={styles.gif}>\r\n            <img src={workingHard} alt={'On my way'}/>\r\n        </div>\r\n    </div>\r\n}\r\nexport default InProgress","import React from \"react\";\r\nimport styles from './WelcomePage.module.css'\r\nimport {NavLink} from \"react-router-dom\";\r\n//приветсвтенная страница\r\nlet WelcomePage = () => {\r\n    return <div className={styles.welcomePage}>\r\n        <div className={styles.greetings}>\r\n            <h1>Welcome to \"Midnight Place\"</h1>\r\n            <p>A network for all night coding lovers inspired by \"Hotline Miami\", \"GTA Vice City\" and the neon madness\r\n                of real\r\n                Miami</p>\r\n            <hr/>\r\n        </div>\r\n        <div className={styles.mainContent}>\r\n            <p>This project is designed to demonstrate my professional frontend development skills to a potential\r\n                employer. But who knows, maybe as my programming skills growing up, this project will transform into\r\n                something more\r\n                than a presentation. At least I really hope so...</p>\r\n            <p>Dear Potential Employer! If you are reading these lines, then you must be interested in what technologies\r\n                and concepts\r\n                were used in this project.\r\n                <NavLink className={styles.link} to={'/UsedTechnologies'}> Click here, to see </NavLink>\r\n            </p>\r\n            <div className={styles.credits}>\r\n                <NavLink className={styles.link} to={'/Credits'}> About the author and thanks </NavLink>\r\n            </div>\r\n        </div>\r\n\r\n        <div className={styles.conclusion}>\r\n            <hr/>\r\n            <p>Hope you enjoy this place</p>\r\n            <p>Lets'go! For glory of coding</p>\r\n            <hr/>\r\n        </div>\r\n    </div>\r\n}\r\nexport default WelcomePage","import React from \"react\";\r\nimport styles from './Credits.module.css'\r\n//Об авторе и благодарности\r\nlet Credits = () => {\r\n    return <div className={styles.credits}>\r\n        <h1>Credits</h1>\r\n        <div className={styles.main}>\r\n            <p>Frontend by Maksim Mikhaylov. Find me in this network by id: 14338 / name: \"Maksim Mikhaylov\". Also check\r\n                my\r\n                contacts in other networks </p>\r\n            <p> Backend and API by Dmitry Kuzyuberdin </p>\r\n\r\n            <p>This project is the result of the course \"React way of samurai 1.0\" by Dmitry Kuzyuberdin and his YouTube\r\n                channel \"IT-Kamasutra\". His professionalism and altruism have helped me and thousands of other people to\r\n                fulfill the dream of entering the world of programming</p>\r\n        </div>\r\n\r\n\r\n        <div className={styles.links}>\r\n            <p>Links</p>\r\n            <ul>\r\n                <li><a href=\"https://vk.com/id17768111\">Maksim Mikhaylov</a></li>\r\n                <li><a href=\"https://vk.com/d.kuzyuberdin\">Dmitry Kuzyuberdin</a></li>\r\n                <li><a href=\"https://www.youtube.com/c/ITKAMASUTRA\">YouTube channel</a></li>\r\n                <li><a href=\"https://social-network.samuraijs.com/docs\">API</a></li>\r\n            </ul>\r\n        </div>\r\n    </div>\r\n}\r\nexport default Credits","import React from \"react\";\r\nimport styles from './UsedTechnologies.module.css'\r\n//используемые концепции и технологии\r\nlet UsedTechnologies = () => {\r\n    return <div className={styles.usedTechnologies}>\r\n\r\n        <div className={styles.header}>\r\n            <h1>Used Technologies</h1>\r\n            <p>Here is a list of technologies and concepts used in the project</p>\r\n        </div>\r\n\r\n        <div className={styles.technologies}>\r\n            <h4>Technologies</h4>\r\n            <ul>\r\n                <li>React</li>\r\n                <li>Redux</li>\r\n                <li>Create react app</li>\r\n                <li>HTML5</li>\r\n                <li>CSS3 (modules)</li>\r\n                <li>Browser Router</li>\r\n                <li>Context, Connect (React-Redux)</li>\r\n                <li>Ajax (Axios)</li>\r\n                <li>Thunk (midleware)</li>\r\n                <li>Hooks (Use state, Use effect)</li>\r\n                <li>Redux form + validation, stop submit</li>\r\n                <li>Browser extensions (React developer tools, Redux dev tools)</li>\r\n                <li>Classnames</li>\r\n                <li>Compose</li>\r\n            </ul>\r\n        </div>\r\n\r\n        <div className={styles.concepts}>\r\n            <h4>Concepts</h4>\r\n            <ul>\r\n                <li>Single page application</li>\r\n                <li>FLUX</li>\r\n                <li>REST</li>\r\n                <li>Class components (life cycle methods)</li>\r\n                <li>Pure functions and Pure components</li>\r\n                <li>Selectors</li>\r\n                <li>High order component (HOC)</li>\r\n            </ul>\r\n        </div>\r\n    </div>\r\n}\r\nexport default UsedTechnologies","import React from 'react';\nimport './App.module.css';\nimport Music from \"./Components/Music/Music\";\nimport {Route, Switch, withRouter} from \"react-router-dom\"\nimport Dialogs from \"./Components/Dialogs/DialogsContainer\";\nimport NavBarContainer from \"./Components/NavBar/NavBarContainer\";\nimport Users from \"./Components/Users/UsersContainer\";\nimport Profile from \"./Components/Profile/ProfileContainer\";\nimport HeaderComponent from \"./Components/Header/HeaderComponent\";\nimport LoginPage from \"./Components/Login/LoginPage\";\nimport {connect} from \"react-redux\";\nimport {compose} from \"redux\";\nimport {initializeApp} from \"./Redux/appReducer\";\nimport LoadingCircle from \"./Components/Common/LoadingCircle/LoadingCircle\";\nimport {getIsInitialized} from \"./Redux/Selectors/appSelector\";\nimport styles from './App.module.css'\nimport InProgress from \"./Components/Common/InProgress/InProgress\";\nimport WelcomePage from \"./Components/Common/WelcomePage/WelcomePage\";\nimport Credits from \"./Components/Common/WelcomePage/Credits\";\nimport UsedTechnologies from \"./Components/Common/WelcomePage/UsedTechnologies\";\n//все расположения элементов на странице выполнены с помощью css grid.\n\nclass App extends React.Component {\n//когда компонента смонтировалась выставляем тригер инициализации на true, до этого бегунок загрузки\n    componentDidMount() {\n        this.props.initializeApp()\n    }\n\n    render() {\n        //бегунок закгрузки если не готовы\n        if (!this.props.isInitialized) {\n            return <LoadingCircle/>\n        }\n        return (\n            <div className={styles.appWrapper}>\n                <div className={styles.header}>\n                    <HeaderComponent/>\n                </div>\n                <div className={styles.navBar}>\n                    <NavBarContainer/>\n                </div>\n                <div className={styles.content}>\n                    {/*роутер загружает конкретный компонент в зависимости от значения URL, отличающегося от базового\n                    предусмотрена страница 404 и приветственная страница*/}\n                    <Switch>\n                        <Route exact path='/profile/:userId?' render={() => <Profile/>}/>\n                        <Route path='/following' component={() => <Users/>}/>\n                        <Route path='/dialogs' render={() => <Dialogs/>}/>\n                        <Route path='/music' render={() => <Music/>}/>\n                        <Route path='/Users' component={() => <Users/>}/>\n                        <Route path='/Login' render={() => <LoginPage/>}/>\n                        <Route path='/Credits' render={() => <Credits/>}/>\n                        <Route path='/UsedTechnologies' render={() => <UsedTechnologies/>}/>\n                        <Route path='/InProgress' render={() => <InProgress/>}/>\n                        <Route path={'/'} render={() => <WelcomePage/>}/>\n                        <Route path='*' render={() => <div>404 Not found</div>}/>\n                    </Switch>\n                </div>\n            </div>\n        );\n    }\n}\n\nconst mapStateToProps = (state) => ({\n    isInitialized: getIsInitialized(state)\n})\n//чем оборачиваем компонент: часть state, thunk creators, action creators, withRouter для доступа к history\nexport default compose(\n    withRouter,\n    connect(mapStateToProps, {initializeApp}))(App);\n","import React from 'react';\nimport './index.css';\nimport reportWebVitals from './reportWebVitals';\nimport store from \"./Redux/Redux-Store\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport {HashRouter} from \"react-router-dom\";\n/*import {BrowserRouter} from \"react-router-dom\";*/\nimport {Provider} from \"react-redux\";\n\n//главная и единственная страничка моего SPA. Здесь мы загружаем store в контекст для connect-ов\n//browserRouter для реагирование на смену URL\nReactDOM.render(\n    /*<BrowserRouter>*/\n    //Проект ля демонстрации размещается на github pages, но эта платформа некорректно работет с Browser Router,\n    // исключительно для деплоя Browser Router заменен на Hash Router. С его якорями github pages работает хорошо\n    <HashRouter>\n        <React.StrictMode>\n            <Provider store={store}>\n                <App/>\n            </Provider>\n        </React.StrictMode>\n    </HashRouter>\n    /*</BrowserRouter>*/,\n    document.getElementById('root')\n);\nreportWebVitals();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"label\":\"ProfilePosts_label__2CgPn\",\"newPostForm\":\"ProfilePosts_newPostForm__lTunz\",\"authorsAvatar\":\"ProfilePosts_authorsAvatar__1Gu68\",\"postsForm\":\"ProfilePosts_postsForm__3nzT2\",\"form\":\"ProfilePosts_form__3Ypmd\",\"textarea\":\"ProfilePosts_textarea__25xkK\",\"addButtonArea\":\"ProfilePosts_addButtonArea__1Dmy7\",\"addButton\":\"ProfilePosts_addButton__1tRCX\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__2TPRE\",\"logo\":\"Header_logo__2pm_m\",\"searchBarForm\":\"Header_searchBarForm__2j8L8\",\"currentUserInfo\":\"Header_currentUserInfo__WLu_H\",\"nicknameAndButton\":\"Header_nicknameAndButton__132rC\",\"currentUserLogin\":\"Header_currentUserLogin__1N6ug\",\"logoutButton\":\"Header_logoutButton__1LMal\",\"loginFormRef\":\"Header_loginFormRef__1qauc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"welcomePage\":\"WelcomePage_welcomePage__13_ZK\",\"greetings\":\"WelcomePage_greetings__2FhIG\",\"mainContent\":\"WelcomePage_mainContent__sAWpl\",\"conclusion\":\"WelcomePage_conclusion__2Yhwk\",\"link\":\"WelcomePage_link__1fOee\",\"credits\":\"WelcomePage_credits__2TjSF\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"userContainer\":\"User_userContainer__1Dpln\",\"userAvatar\":\"User_userAvatar__3VSYh\",\"userAvatarPicture\":\"User_userAvatarPicture__2-KHu\",\"userName\":\"User_userName__9YXgD\",\"userStatus\":\"User_userStatus__3VBFW\",\"userFollowUnfollowButton\":\"User_userFollowUnfollowButton__1GX4V\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"appWrapper\":\"App_appWrapper__3KLNR\",\"header\":\"App_header__3bErQ\",\"navBar\":\"App_navBar__ak1iU\",\"content\":\"App_content__3kn__\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"usedTechnologies\":\"UsedTechnologies_usedTechnologies__3lFr3\",\"header\":\"UsedTechnologies_header__3hear\",\"technologies\":\"UsedTechnologies_technologies__3SIJg\",\"concepts\":\"UsedTechnologies_concepts__1MVEi\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"pagination\":\"Users_pagination__1_IxW\",\"searchingResultData\":\"Users_searchingResultData__2BcBp\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"contactValue\":\"Contacts_contactValue__2zGia\",\"contactsLabel\":\"Contacts_contactsLabel__zWlOs\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"navBar\":\"NavBar_navBar__48vcK\",\"navItem\":\"NavBar_navItem__1qG18\",\"navItemWithTooltip\":\"NavBar_navItemWithTooltip__2ttwo\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"pagination\":\"Pagination_pagination__2ifo0\",\"selectedPage\":\"Pagination_selectedPage__rTXNE\",\"pageNumber\":\"Pagination_pageNumber__19k4w\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"saveButton\":\"ProfileDataForm_saveButton__1f9gm\",\"form\":\"ProfileDataForm_form__3p388\",\"contactLabel\":\"ProfileDataForm_contactLabel__3mBjq\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"post\":\"Post_post__3CAYO\",\"authorsAvatar\":\"Post_authorsAvatar__1E38E\",\"postContent\":\"Post_postContent__3VrM_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"h1\":\"InProgress_h1__3fmoU\",\"gif\":\"InProgress_gif__1W5je\",\"text\":\"InProgress_text__3Lz7J\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"credits\":\"Credits_credits__3zI7y\",\"main\":\"Credits_main__22yEJ\",\"links\":\"Credits_links__25KzK\"};"],"sourceRoot":""}